<!DOCTYPE html>
<html>
  <head>
    <title>mapless geocoding</title>
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1, maximum-scale=1">

    <!-- Load Leaflet from CDN-->
    <link rel="stylesheet" href="//cdn.jsdelivr.net/leaflet/0.7.3/leaflet.css" />

    <link rel="stylesheet" href="../src/esri-leaflet-geocoder.css" />

    <script src="//cdn.jsdelivr.net/leaflet/0.7.3/leaflet.js"></script>
    <script src="../node_modules/esri-leaflet/dist/esri-leaflet.js"></script>

    <script src="../src/EsriLeafletGeocoding.js"></script>
    <script src="../src/Tasks/Geocode.js"></script>
    <script src="../src/Tasks/Suggest.js"></script>
    <script src="../src/Services/Geocoding.js"></script>
    <script src="../src/Controls/Geosearch.js"></script>
    <script src="../src/Providers/ArcgisOnlineGeocoder.js"></script>

    <!-- Make the map fill the entire page -->
    <style>
      #map {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        display: none;
      }

      /* currently not respected, and overrides suggestion text placement
      #wholegroup {
        text-align: center !important;
      }-->
      */

      .text-bar {
        width: 400px;
      }

      .geocoder-control-input {
        top: 80px;
        left: 50px;
      }

      .geocoder-control-suggestions {
        top: 106px; /* input + 26px */
        left: 50px;
        max-height: 50%;
        max-width: 400px;
      }
    </style>
  </head>
  <body>

    <h1>who needs a map</h1>
    <form>
      <div id='wholegroup'>
        <!--label for="address">something funny:</label-->
        <input class="text-bar" type="text" id="address">
      </div>
    </form>
    <br><div id="results"></div>
    <div id="map"></div>
    <script>
      var map = L.map('map').setView([37.74, -121.62], 9);
      L.esri.basemapLayer('Topographic').addTo(map);
      var search = L.esri.Geocoding.Controls.geosearch({
        inputTag: 'address',
        placeholder: '123 main st'
      })// .addTo(map);
      search.onAdd(map);

      search.on('results', function(evt){
        document.getElementById('map').style.display = 'block';
        // http://leafletjs.com/reference.html#map-invalidatesize
        map.invalidateSize();
      });
    </script>
  </body>
</html>